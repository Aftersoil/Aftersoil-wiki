<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Html5 | 后土维基</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icon/chrome-192x192.png">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?69622073a8649e8a707a918060cc1abc";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="后土维基 | 后土文档 | Aftersoil | Aftersoil-wiki">
    <meta name="theme-color" content="#663403">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="baidu-site-verification" content="code-6uTgqJ41VJ">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta HTTP-EQUIV="pragma" content="no-cache">
    <meta HTTP-EQUIV="Cache-Control" content="no-store, must-revalidate">
    <meta HTTP-EQUIV="expires" content="Wed, 26 Feb 1997 08:21:57 GMT">
    <meta HTTP-EQUIV="expires" content="0">
    <link rel="preload" href="/assets/css/0.styles.f412e999.css" as="style"><link rel="preload" href="/assets/js/app.f01ab0f0.js" as="script"><link rel="preload" href="/assets/js/2.33a04a9d.js" as="script"><link rel="preload" href="/assets/js/53.16a44154.js" as="script"><link rel="preload" href="/assets/js/3.28198cb7.js" as="script"><link rel="prefetch" href="/assets/js/10.6e842931.js"><link rel="prefetch" href="/assets/js/11.b8e35648.js"><link rel="prefetch" href="/assets/js/12.7232dbd2.js"><link rel="prefetch" href="/assets/js/13.a7297154.js"><link rel="prefetch" href="/assets/js/14.75579b5d.js"><link rel="prefetch" href="/assets/js/15.f1b80f78.js"><link rel="prefetch" href="/assets/js/16.540573ad.js"><link rel="prefetch" href="/assets/js/17.bdf24701.js"><link rel="prefetch" href="/assets/js/18.cc0f0aaa.js"><link rel="prefetch" href="/assets/js/19.731c8c92.js"><link rel="prefetch" href="/assets/js/20.faa5bb6b.js"><link rel="prefetch" href="/assets/js/21.3d8e9dbd.js"><link rel="prefetch" href="/assets/js/22.a3bdf4e1.js"><link rel="prefetch" href="/assets/js/23.256285f2.js"><link rel="prefetch" href="/assets/js/24.e37aa0c0.js"><link rel="prefetch" href="/assets/js/25.ac03dd95.js"><link rel="prefetch" href="/assets/js/26.4b42b430.js"><link rel="prefetch" href="/assets/js/27.32c2d91c.js"><link rel="prefetch" href="/assets/js/28.61aef7e7.js"><link rel="prefetch" href="/assets/js/29.b90e2275.js"><link rel="prefetch" href="/assets/js/30.970001c7.js"><link rel="prefetch" href="/assets/js/31.16d0fd1a.js"><link rel="prefetch" href="/assets/js/32.2aaab747.js"><link rel="prefetch" href="/assets/js/33.d14c431b.js"><link rel="prefetch" href="/assets/js/34.551597bd.js"><link rel="prefetch" href="/assets/js/35.e9ef0520.js"><link rel="prefetch" href="/assets/js/36.795b217b.js"><link rel="prefetch" href="/assets/js/37.9885d583.js"><link rel="prefetch" href="/assets/js/38.221dce35.js"><link rel="prefetch" href="/assets/js/39.7fca3ad2.js"><link rel="prefetch" href="/assets/js/4.70a40a05.js"><link rel="prefetch" href="/assets/js/40.fc785769.js"><link rel="prefetch" href="/assets/js/41.2e0a4936.js"><link rel="prefetch" href="/assets/js/42.a424e269.js"><link rel="prefetch" href="/assets/js/43.12401e1b.js"><link rel="prefetch" href="/assets/js/44.1f6c323c.js"><link rel="prefetch" href="/assets/js/45.f0339ff6.js"><link rel="prefetch" href="/assets/js/46.7c4bbfff.js"><link rel="prefetch" href="/assets/js/47.6a806d85.js"><link rel="prefetch" href="/assets/js/48.f2c23368.js"><link rel="prefetch" href="/assets/js/49.086a1bd5.js"><link rel="prefetch" href="/assets/js/5.1f4ccad5.js"><link rel="prefetch" href="/assets/js/50.429d0417.js"><link rel="prefetch" href="/assets/js/51.d0902834.js"><link rel="prefetch" href="/assets/js/52.32afe6b1.js"><link rel="prefetch" href="/assets/js/54.ae054b89.js"><link rel="prefetch" href="/assets/js/55.971774d7.js"><link rel="prefetch" href="/assets/js/56.2994eefd.js"><link rel="prefetch" href="/assets/js/57.9cf62707.js"><link rel="prefetch" href="/assets/js/58.9e75af6e.js"><link rel="prefetch" href="/assets/js/59.747e58a7.js"><link rel="prefetch" href="/assets/js/6.9ad1ff30.js"><link rel="prefetch" href="/assets/js/60.1dce5534.js"><link rel="prefetch" href="/assets/js/61.eff25799.js"><link rel="prefetch" href="/assets/js/62.8a5d5c3a.js"><link rel="prefetch" href="/assets/js/63.c997d5c6.js"><link rel="prefetch" href="/assets/js/64.37c51a68.js"><link rel="prefetch" href="/assets/js/65.f9c20fc8.js"><link rel="prefetch" href="/assets/js/66.198f6fbf.js"><link rel="prefetch" href="/assets/js/67.631658fa.js"><link rel="prefetch" href="/assets/js/68.b4f984cd.js"><link rel="prefetch" href="/assets/js/69.e28541ed.js"><link rel="prefetch" href="/assets/js/7.144cda08.js"><link rel="prefetch" href="/assets/js/70.777dd83d.js"><link rel="prefetch" href="/assets/js/71.cdb66c54.js"><link rel="prefetch" href="/assets/js/72.f1e0d161.js"><link rel="prefetch" href="/assets/js/8.ac3779eb.js"><link rel="prefetch" href="/assets/js/9.1a32ba0e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f412e999.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><!----> <span class="site-name">后土维基</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/sitio/" class="nav-link">
  Hexo-theme-sitio
</a></li></ul></div></div><div class="nav-item"><a href="/zh/basics/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="https://github.com/Aftersoil/Aftersoil-wiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/docsH5C3/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/docsH5C3/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
   简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/sitio/" class="nav-link">
  Hexo-theme-sitio
</a></li></ul></div></div><div class="nav-item"><a href="/zh/basics/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="https://github.com/Aftersoil/Aftersoil-wiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/docsH5C3/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/docsH5C3/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
   简体中文
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="html5"><a href="#html5" class="header-anchor">#</a> Html5</h1> <h2 id="html5-新特性"><a href="#html5-新特性" class="header-anchor">#</a> html5 新特性</h2> <p>视频 与 绘图</p> <div class="language- extra-class"><pre><code>html5 w3c组件 2014 退出一组网页中技术总称

非常丰富/外观/绘图/游戏/特效/多对多聊天/...

重点(视频/canvas绘图/webSocket)
</code></pre></div><h2 id="hml5新特性-视频"><a href="#hml5新特性-视频" class="header-anchor">#</a> Hml5新特性(视频)</h2> <p>基础知识</p> <ul><li><p>视频文件格式:.mp4.flv.webm.ogg...</p></li> <li><p>解码器:如果浏览器播放指定格式视频需要安装此种格式视频对应的
解码器(软件)</p> <p>a.mp4 --&gt; 浏览器安装 MP4 解码器</p> <p>解决方案:&quot;格式工厂&quot; x.mp4 -&gt; x.flv -&gt; x.webm</p></li></ul> <h3 id="标准语法"><a href="#标准语法" class="header-anchor">#</a> 标准语法:</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>视频文件路径<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    您的浏览器版本太低.请升级
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>

兼容语法
#注意事项: 准备多个视频文件
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x.mp4<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x.flv<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x.webm<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    浏览器版本过低请升级
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="html5新特性-视频-属性在-video-元素添加"><a href="#html5新特性-视频-属性在-video-元素添加" class="header-anchor">#</a> html5新特性(视频)--属性在 video 元素添加</h3> <ul><li><p>常见属性</p> <ul><li><p>controls  显示播放视频原生控件(兼容性差)</p> <p>loop  循环播放   muted 静音播放</p> <p>preload 预加载策略</p> <div class="language-html extra-class"><pre class="language-html"><code>    none:不预加载任何数据
    metadata:只预加载原数据 (视频长时/视频第一个画面/视频高度/宽度)
    auto:加载原数据并且加载一定时长视频(默认)
</code></pre></div><p>autoplay  自动播放视频(大多数浏览器支持差)</p> <p>poster: 在播放视频之前显示一张图片(广告)
如果视频暂停不再显示</p></li></ul></li></ul> <h3 id="js-常见属性方法"><a href="#js-常见属性方法" class="header-anchor">#</a> Js 常见属性方法</h3> <div class="language-js extra-class"><pre class="language-js"><code>#必须通过js程序获取<span class="token operator">:</span>“视频对象”<span class="token punctuation">,</span>才能执行如下属性方法

<span class="token operator">-</span>volume<span class="token operator">:</span><span class="token number">1</span>     <span class="token function">音量</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">~</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token operator">-</span>playbackRate <span class="token function">回访速率</span><span class="token punctuation">(</span>播放速度<span class="token punctuation">)</span>
                整数<span class="token operator">:</span>大于<span class="token number">1</span>快放 小于<span class="token number">1</span>慢播

<span class="token operator">-</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       播放视频

<span class="token operator">-</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      暂停播放

<span class="token operator">-</span>paused       表示当前视频播放状态
                <span class="token boolean">true</span>  表示视频暂停
                <span class="token boolean">false</span> 表示正在播放
</code></pre></div><h3 id="html5-新特性-视频"><a href="#html5-新特性-视频" class="header-anchor">#</a> html5 新特性(视频)</h3> <p>属性在video事件</p> <div class="language-js extra-class"><pre class="language-js"><code>canplaythrough 当视频加载结束后 <span class="token operator">|</span> 可以播放时 <span class="token operator">|</span> 触发事件
  
    duration<span class="token operator">:</span><span class="token function">视频时长</span><span class="token punctuation">(</span>秒<span class="token punctuation">)</span>
  
ended    <span class="token function">当前视频播放结束</span><span class="token punctuation">(</span>一次<span class="token punctuation">)</span>
  
timeupdate  <span class="token function">视频正在播放中</span><span class="token punctuation">(</span>多次<span class="token punctuation">)</span> <span class="token number">4</span><span class="token operator">/</span>s
  
    currentTime<span class="token operator">:</span>当前播放时间点
</code></pre></div><h3 id="html5-新特性-视频-属性在video样式"><a href="#html5-新特性-视频-属性在video样式" class="header-anchor">#</a> html5 新特性(视频)--属性在video样式</h3> <div class="language-js extra-class"><pre class="language-js"><code>video 元素有一种样式与图片通用 object<span class="token operator">-</span>fit
此属性指定视频在区域内如何显示
   
fill<span class="token operator">:</span> 填充  默认值<span class="token operator">:</span>将视频拉伸操作填满整个父元素
   
contain<span class="token operator">:</span> 包含   保持原有视频比例<span class="token punctuation">,</span>父元素空白区域
   
conver<span class="token operator">:</span>覆盖    保持原有视频比例<span class="token punctuation">,</span>宽度或高度至少有一个与父元素一致
</code></pre></div><h2 id="html5-新特性-绘图-canvas"><a href="#html5-新特性-绘图-canvas" class="header-anchor">#</a> Html5 新特性-绘图-canvas</h2> <div class="language-js extra-class"><pre class="language-js"><code>#将复杂的数据转换图形方式呈献给用户
   
<span class="token operator">-</span><span class="token function">网页中绘图三种技术</span>
   
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> svg 用户线段组件图形<span class="token operator">:</span> 针对<span class="token number">2</span>D矢量图 
    特点<span class="token operator">:</span>矢量图可以无限放大和缩小并且不失帧<span class="token punctuation">,</span>
    缺点<span class="token operator">:</span><span class="token function">颜色不丰富</span>
   
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> canvas 用像素点组件图形<span class="token operator">:</span>针对<span class="token number">2</span>D位图
    特点<span class="token operator">:</span>位图可以不能放大和缩小并且失真<span class="token punctuation">,</span>
    缺点<span class="token operator">:</span><span class="token function">颜色细腻</span> 
   
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> webgl  <span class="token number">3</span>D 位图
</code></pre></div><h3 id="html5-新特性-绘图-canvas-坐标系-单词多"><a href="#html5-新特性-绘图-canvas-坐标系-单词多" class="header-anchor">#</a> Html5 新特性-绘图-canvas-(坐标系,单词多)</h3> <div class="language- extra-class"><pre><code># 注意事项:完成 html5 技术路径不要用jquery.js
</code></pre></div><h3 id="html5-新特性-绘图-canvas-创建画布"><a href="#html5-新特性-绘图-canvas-创建画布" class="header-anchor">#</a> Html5 新特性-绘图-canvas-创建画布</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 通过标签创建画布
    <span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">&quot;c3&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;500&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;400&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
    #注意事项<span class="token operator">:</span>画布宽度和高度一定用js或者属性添加
    <span class="token function">#不能css样式来赋值</span><span class="token punctuation">(</span>变形<span class="token punctuation">)</span> 

<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> 通过js获取画布

    <span class="token keyword">var</span> c3<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;c3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token function">通过画布获取</span><span class="token punctuation">(</span>画笔对象<span class="token operator">-</span>上下文对象<span class="token punctuation">)</span>

    <span class="token keyword">var</span> ctx<span class="token operator">=</span>c3<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  画笔
</code></pre></div><p>​</p> <h3 id="新特性-绘图-canvas-矩形"><a href="#新特性-绘图-canvas-矩形" class="header-anchor">#</a> 新特性-绘图-canvas-矩形</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token function">绘制空心矩形</span><span class="token punctuation">(</span>描边<span class="token punctuation">)</span>

    ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span>
    x<span class="token punctuation">,</span>y  空心矩形左上角位置
    w<span class="token punctuation">,</span>h  <span class="token function">空心矩形的宽度和高度</span>

<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token function">绘制实心矩形</span><span class="token punctuation">(</span>填充矩形<span class="token punctuation">)</span>

    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>设置实心样式

	ctx<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span><span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span>生效
    ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token function">不生效</span>
    
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>设置空心样式
    
    ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span> 

<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>清空矩形范围内所有元素
	
	ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>

  清空画布中所有元素 ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span>
</code></pre></div><div class="language- extra-class"><pre><code>练习 销售统计图
</code></pre></div><h3 id="背景颜色谨慎使用-修改方案"><a href="#背景颜色谨慎使用-修改方案" class="header-anchor">#</a> 背景颜色谨慎使用,修改方案</h3> <p>(1) 添加透明度,使颜色柔和</p> <div class="language- extra-class"><pre><code>ctx.globalAlpha=0.3

样式  
object-fit     fill 填充(拉伸)
                      contain 包含
                      cover 覆盖 原有比例裁切
</code></pre></div><p>绘图  作用: 将复杂数据转换图形方式来显示</p> <div class="language- extra-class"><pre><code>    网页中   svg 2d矢量图   canvas 2d位图  
    webgl  3d位图
</code></pre></div><p>开发流程</p> <div class="language-js extra-class"><pre class="language-js"><code>      通过标签创建画布   <span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">&quot;c3&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
      通过js获得画布对象 
      <span class="token function">通过画布对象获得画笔</span><span class="token punctuation">(</span>上下文对象<span class="token punctuation">)</span> <span class="token keyword">var</span> ctx <span class="token operator">=</span> c3<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span>

    矩形 ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span>描边  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span>实心  
        ctx<span class="token punctuation">.</span>strokeStyle   <span class="token operator">...</span>
</code></pre></div><p>————————————————</p> <h3 id="html5-新特性-canvas绘图-文本"><a href="#html5-新特性-canvas绘图-文本" class="header-anchor">#</a> Html5 新特性--canvas绘图-文本</h3> <p>常用方法与属性</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">storkeText</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> 绘制描边空文字
    str<span class="token operator">:</span> 绘制文本
</code></pre></div><p>x,y:字符串左上角位置(以文本基线为准)</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>  绘制填充文字 
    <span class="token operator">-</span>ctx<span class="token punctuation">.</span>font<span class="token operator">=</span><span class="token string">&quot;20px 字体&quot;</span>
    <span class="token operator">-</span>ctx<span class="token punctuation">.</span>textBaseline<span class="token operator">=</span><span class="token string">&quot;top&quot;</span> <span class="token function">调整文本基线</span><span class="token punctuation">(</span> top<span class="token operator">/</span>alphabetic<span class="token operator">/</span>bottom<span class="token punctuation">)</span>
</code></pre></div><h3 id="html5-新特性-canvas绘图-路径"><a href="#html5-新特性-canvas绘图-路径" class="header-anchor">#</a> html5 新特性--canvas绘图-路径</h3> <div class="language-js extra-class"><pre class="language-js"><code>路径<span class="token operator">:</span><span class="token function">绘制不规则图形</span><span class="token punctuation">(</span>复杂<span class="token punctuation">)</span>
   
    path<span class="token operator">:</span>由多个坐标点组件任意图形 图形本身不可见
         可以描边或者填充
   
<span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">开始一条新路径</span><span class="token punctuation">(</span>上一条路径结束<span class="token punctuation">)</span>
<span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">移动到指定点</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
<span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">从当前点到指定点绘制一条直线</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
<span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  描边
<span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 填充
<span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">闭合一条路径</span><span class="token punctuation">(</span>结束点到开始点画一条直线<span class="token punctuation">)</span>
   
<span class="token operator">-</span>ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>cx<span class="token punctuation">,</span>cy<span class="token punctuation">,</span>r<span class="token punctuation">,</span>start<span class="token punctuation">,</span>end<span class="token punctuation">)</span> 绘制一条圆拱形
cx<span class="token punctuation">,</span>cy <span class="token function">圆心位置</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
r   半径    
   
start   开始的角度
end     结束的角度
   
#参数 start<span class="token punctuation">,</span>end 不使用常用角度完成设置 使用弧度设置
#角度 <span class="token number">0</span><span class="token operator">~</span><span class="token number">360</span>   弧度 <span class="token number">0</span><span class="token operator">~</span><span class="token number">2</span>PI
#采用角度转换为弧度  <span class="token number">90</span> 角度<span class="token operator">*</span>Match<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span><span class="token operator">=</span>弧度
</code></pre></div><p>练习 1: 使路劲创建可以动态前进的圆环进度条</p> <p>练习 2: 创建张嘴笑脸 再绘制闭嘴笑脸
1 秒切换一张</p> <h3 id="html5-新特性-canvas绘图-图像"><a href="#html5-新特性-canvas绘图-图像" class="header-anchor">#</a> Html5 新特性--canvas绘图-图像</h3> <p>图片可以使用img标准显示网页为什么用canvas[复杂]</p> <p>图片位置:一个软件项目上所有图片保存服务器</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token number">1.</span> 图片版权
    <span class="token number">2.</span> 图片数量巨大
</code></pre></div><h3 id="操作过程将图片绘制在canvas画布上"><a href="#操作过程将图片绘制在canvas画布上" class="header-anchor">#</a> 操作过程将图片绘制在canvas画布上</h3> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>创建图像对象           <span class="token keyword">var</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>下载图像              p3<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;p3.png&quot;</span>

    <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>为图片绑定事件下载成功 p3<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>绘制图片              ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>p3<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span>

#p3 图片对象
#x<span class="token punctuation">,</span>y <span class="token function">图片或者文本或者图片左上角位置</span><span class="token punctuation">(</span>原始大小图片<span class="token punctuation">)</span>
#w<span class="token punctuation">,</span>h <span class="token function">图片宽度和高度</span><span class="token punctuation">(</span>拉伸<span class="token punctuation">)</span>
</code></pre></div><h3 id="html5-新特性-canvas绘图-变形"><a href="#html5-新特性-canvas绘图-变形" class="header-anchor">#</a> Html5 新特性--canvas绘图-变形</h3> <p>canvas绘制时对图片进行旋转操作</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">-</span><span class="token function">rotate</span><span class="token punctuation">(</span>deg<span class="token punctuation">)</span>   <span class="token function">旋转</span>

    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">旋转画布对象</span>
    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token function">旋转轴心在画布原点</span>
    <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token function">旋转角度会有累加操作</span>
    <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> deg不同角度弧度
    
    <span class="token operator">-</span><span class="token function">translate</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>  移动原点
</code></pre></div><p>原则:</p> <p>什么时候使用如下两个方法</p> <p>当画布上绘制一个以上元素时必须使用下面方法</p> <div class="language- extra-class"><pre class="language-text"><code>-save()  保存画笔状态(原点;角度;颜色)
-restore()  恢复到画笔保存时状态(原点;角度;颜色;..)
</code></pre></div><p>画图时:如果画布中有多个(一个以上)元素 画之前先保存状态
画之后:恢复状态(元素之间不受影响)</p> <p>复习:</p> <div class="language-js extra-class"><pre class="language-js"><code>路径  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>cx<span class="token punctuation">,</span>cy<span class="token punctuation">,</span>r<span class="token punctuation">,</span>start<span class="token punctuation">,</span>end<span class="token punctuation">)</span>
角度<span class="token operator">*</span>Match<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span>

图片
<span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p3<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;res/p3.png&quot;</span>
p3<span class="token punctuation">.</span><span class="token function-variable function">onload</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>p3<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>变形<span class="token operator">:</span>
ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token operator">*</span>Match<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token function">移动原点</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 

ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre></div><h3 id="html5-canvas-绘图-弹幕"><a href="#html5-canvas-绘图-弹幕" class="header-anchor">#</a> Html5 canvas 绘图（弹幕）</h3> <p>弹幕:专业视频网站常用功能</p> <div class="language- extra-class"><pre><code>当用户在观看视频希望(参与感)发表自己想法
发表内容转文字浮动视频上方
</code></pre></div><h3 id="理解用户操作"><a href="#理解用户操作" class="header-anchor">#</a> 理解用户操作</h3> <div class="language- extra-class"><pre><code>(1) 输入文字  修改文字大小; 修改文字颜色
(2) 用户点击“发送按钮” 将内容系显示视频上方
</code></pre></div><h3 id="_2-6-弹幕-index-html"><a href="#_2-6-弹幕-index-html" class="header-anchor">#</a> 2.6 (弹幕)-index.html</h3> <div class="language- extra-class"><pre><code>1. 视频元素: video{底层}  z-index:0
   
2. 画布元素: canvas{上层} z-index:1
   
3. 创建输入区域
    [输入文字区域;文字大小下拉列表;文字颜色下拉列表;发送按钮]
4. 加载main.js文件 
5. 加载msg.js

保存在服务器端
var p3 = new Image() 

p3.src = &quot;res/p3.png&quot;;

p3.onload=function(){
    ctx.drawImage(p3,x,y,w,h)
}

 变形

ctx.rotate(15*Math.PI/180); 画笔旋转 旋转累加效果 默认旋转轴心在原点的0,0

ctx.translate(x,y)  修改原点
移动原点

ctx.save()

ctx.restore()
</code></pre></div><h3 id="项目工作流程"><a href="#项目工作流程" class="header-anchor">#</a> 项目工作流程!!!</h3> <div class="language- extra-class"><pre><code>(1)遇到问题:如果发送文字过多效率有一定影响(内存溢出);  

解决方案:池子
(2)创建程序结构
:当设计大规则项目采用方式:单一原则(一个程序完成一种任务)

#第一个程序:index.html
1. 创建元素 显示视频 画布
2. 加载其他 Js

#第二个程序:msg.js 完成所有弹幕任务
#第三个程序:main.js 程序入口程序:调用msg.js
</code></pre></div><p>2.6 (弹幕)-index.html</p> <div class="language- extra-class"><pre><code>1. 视频元素: video{底层}  z-index:0
2. 画布元素: canvas{上层} z-index:1
3. 创建输入区域
    [输入文字区域;文字大小下拉列表;文字颜色下拉列表;发送按钮]
4. 加载main.js文件 
5. 加载msg.js
</code></pre></div><p>2.3:html5 新特性 --- 弹幕需要数据 --- msg</p> <div class="language- extra-class"><pre class="language-text"><code>(1) 每一个弹幕中文需要位置(x,y)
(2) 每一个弹幕中文字(m)
(3) 每一个弹幕中文字颜色(color)
(4) 每一个弹幕中文字大小(font)
(5) 每一个弹幕中文字速度(spd)
(6) 每一个弹幕中文字(状态 alive true 显示 false 隐藏)
(7) 100 个弹幕
</code></pre></div><h2 id="html5-新特性-程序调用流程"><a href="#html5-新特性-程序调用流程" class="header-anchor">#</a> Html5 新特性 --- 程序调用流程</h2> <div class="language- extra-class"><pre class="language-text"><code>-msg.js  所有与弹幕相关的数据函数
</code></pre></div><h3 id="节省内存-原型"><a href="#节省内存-原型" class="header-anchor">#</a> 节省内存(原型)</h3> <p>(1) 创建弹幕的构造函数 var msgObj = function(){}
x y m  color font spd ...</p> <p>(2) 创建弹幕实例化函数 msgObj.prototype.init = function(){}</p> <div class="language- extra-class"><pre><code>x,y,m,color,font,spd 赋初始值(开始之前的值)
</code></pre></div><p>(3) 创建弹幕绘制函数 msgObj.prototype.draw=function(){}
依据上面 x,y...把弹幕绘制到画布上
...</p> <p>-main.js 创建弹幕对象并且调用相关函数</p> <div class="language- extra-class"><pre><code>function game(){
    init();
    gameloop();
}

function init(){
    负责创建弹幕对象并且调用init方法
    msg = new msgObj();
    msg.init();
}


function gameloop(){
    创建定时器调用gameloop 
    msg.draw();
}
  
document.body.onloat= game;  
</code></pre></div><p>-index.html</p> <h2 id="html5-新特性-定时器"><a href="#html5-新特性-定时器" class="header-anchor">#</a> Html5 新特性--定时器</h2> <p>定时器: 一次性定时器/周期性定时器</p> <div class="language- extra-class"><pre><code>requestAnimationFrame 智能定时器
</code></pre></div><p>次定时器主要使用范围:动画和游戏中</p> <p>特点:
setTimeout(fn,500);
setInterval(fn,500); 周期性调用fn函数间隔500ms</p> <p>两台电脑: 新 12ms  旧 600ms</p> <p>解决方案:
requestAnimationFrame 智能计算当前浏览器效率 11ms,计
算600ms  按照不同浏览器设置间隔时间</p> <h3 id="实现功能平滑"><a href="#实现功能平滑" class="header-anchor">#</a> 实现功能平滑</h3> <div class="language-js extra-class"><pre class="language-js"><code>    使用方法  requestAnimationFrame<span class="token operator">=</span>setTimeout 

    标准语法

            <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
</code></pre></div><p>如何周期性调用定时器完成游戏</p> <div class="language-js extra-class"><pre class="language-js"><code>        <span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">...</span>
            <span class="token operator">...</span>
        <span class="token punctuation">}</span>
        <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="html5-新特性-svg-echarts"><a href="#html5-新特性-svg-echarts" class="header-anchor">#</a> Html5 新特性-svg--echarts</h2> <div class="language-js extra-class"><pre class="language-js"><code>                    canvas        svg
    绘图类型          <span class="token number">2</span>D位图        <span class="token number">2</span>D矢量图  
    如何绘制          使用js代码     标签 
    事件绑定          只能绑定在画布 每个图形都可绑定事件 
    应用场景          网页特效<span class="token punctuation">;</span>游戏  地图
</code></pre></div><h1 id="html5-新特性-svg-echarts-2"><a href="#html5-新特性-svg-echarts-2" class="header-anchor">#</a> Html5 新特性-svg--echarts</h1> <h2 id="svg-图形创建流程"><a href="#svg-图形创建流程" class="header-anchor">#</a> Svg 图形创建流程</h2> <p>1 创建画布标签</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>2 添加圆环标签</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">&gt;</span></span>

cx,cy 圆心坐标  r 半径  fill填充  stroke描边
</code></pre></div><p>通过js在svg画布上动态创建元素</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span> 字符串拼接方式来创建元素

    <span class="token keyword">var</span> str<span class="token operator">=</span><span class="token string">&quot;&lt;circle&gt;&lt;/circle&gt;&quot;</span> 
    svg<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>str<span class="token punctuation">;</span>
     
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token number">2.</span> 通过创建对象方式
<span class="token keyword">var</span> c<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElementNs</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.w3.org/2000/svg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;circle&quot;</span><span class="token punctuation">)</span>  #指定元素 svg 标准

svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li><p>为元素添加属性获取属性</p> <div class="language- extra-class"><pre><code> ```js
 设置与获取属性只能采用核心DOM方法不能用使用 HTMLDOM
 #核心 DOM circle.getAttribute(&quot;属性名&quot;,值)
 ```
</code></pre></div></li></ol> <h3 id="讲解创建画布标签-直线"><a href="#讲解创建画布标签-直线" class="header-anchor">#</a> 讲解创建画布标签--直线</h3> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>line x1<span class="token operator">=</span><span class="token string">&quot;&quot;</span> y1<span class="token operator">=</span><span class="token string">&quot;&quot;</span> x2<span class="token operator">=</span><span class="token string">&quot;&quot;</span> y2<span class="token operator">=</span><span class="token string">&quot;&quot;</span> stroke<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;&quot;</span> stroke<span class="token operator">=</span><span class="token string">&quot;&quot;</span> stroke<span class="token operator">-</span>linecap<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>line<span class="token operator">&gt;</span>

    x1<span class="token operator">=</span><span class="token string">&quot;&quot;</span> y1<span class="token operator">=</span><span class="token string">&quot;&quot;</span>  起点坐标
    x2<span class="token operator">=</span><span class="token string">&quot;&quot;</span> y2<span class="token operator">=</span><span class="token string">&quot;&quot;</span>  终点坐标
    stroke<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;&quot;</span> 边线宽度
    stroke<span class="token operator">=</span><span class="token string">&quot;&quot;</span>    边线样式
    stroke<span class="token operator">-</span>linecap<span class="token operator">=</span><span class="token string">&quot;&quot;</span>  边线顶端样式 round 圆角
</code></pre></div><h2 id="html5-新特性-svg-echarts-拖动-api-webworker"><a href="#html5-新特性-svg-echarts-拖动-api-webworker" class="header-anchor">#</a> Html5 新特性 --svg-echarts 拖动-API-WebWorker</h2> <h4 id="html5-新特性-svg-折线-渐变特效对象-滤镜"><a href="#html5-新特性-svg-折线-渐变特效对象-滤镜" class="header-anchor">#</a> Html5 新特性 --svg-(折线/渐变特效对象/滤镜)</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50,50 70,55 60,66<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polyline</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>#points -一组坐标点</p> <p>渐变特效对象:
一种特效样式(从一种颜色慢慢过滤到另一种颜色效果)</p> <p>渐变特效对象:</p> <div class="language-html extra-class"><pre class="language-html"><code>(1)创建渐变对象 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">&gt;</span></span>
(2)在指定图形应用

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>linearGradient</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">xy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stop</span> <span class="token attr-name">offset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">stop-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>linearGradient</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url(#g3)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ANY</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url(#g3)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url(#g3)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ANY</span><span class="token punctuation">&gt;</span></span>

            x1=&quot;&quot; y1=&quot;&quot;  起点坐标  (1)写像素 0,0  500,0  (2)写百分比 0% 0% 100%  
            x2=&quot;&quot; y2=&quot;&quot;  终点坐标 

            stop 偏移点
            offset 偏移量 0%   30%
            stop-color 颜色点 
</code></pre></div><h2 id="html5-新特性-svg-滤镜"><a href="#html5-新特性-svg-滤镜" class="header-anchor">#</a> Html5 新特性--svg--(滤镜)</h2> <h3 id="滤镜也是一种特效对象-模糊滤镜"><a href="#滤镜也是一种特效对象-模糊滤镜" class="header-anchor">#</a> 滤镜也是一种特效对象: 模糊滤镜</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>f3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feGaussianBlur</span> <span class="token attr-name">stdDeviation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>数字<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="数字模糊级别-1-10-5"><a href="#数字模糊级别-1-10-5" class="header-anchor">#</a> 数字模糊级别 1~10  (5)</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ANY</span> <span class="token attr-name">filter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url(#f3)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ANY</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="html5-新特性-echarts"><a href="#html5-新特性-echarts" class="header-anchor">#</a> Html5 新特性--echarts</h2> <p>百度提供第三方绘图库</p> <p>如果需要快速创建功能简单外观复杂图像考虑echarts</p> <h3 id="何时使用第三方库绘制"><a href="#何时使用第三方库绘制" class="header-anchor">#</a> 何时使用第三方库绘制</h3> <div class="language- extra-class"><pre><code>(1) 外观精美
(2) 图形比较复杂
</code></pre></div><h3 id="何时自己完成图形"><a href="#何时自己完成图形" class="header-anchor">#</a> 何时自己完成图形</h3> <div class="language- extra-class"><pre><code>(1) 功能复杂【特效/游戏】
</code></pre></div><h2 id="html5-新特性-echarts-重点-使用"><a href="#html5-新特性-echarts-重点-使用" class="header-anchor">#</a> Html5 新特性--echarts(重点)--使用</h2> <p>(1) 下载</p> <div class="language-js extra-class"><pre class="language-js"><code>    npm install echarts
</code></pre></div><p>(2) 创建容器(显示图形)</p> <div class="language-html extra-class"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span>500px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>400px</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- canvas&gt; 第三方库 &lt;/canvas&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>(3)加载</p> <div class="language-js extra-class"><pre class="language-js"><code>    echarts<span class="token punctuation">.</span>min<span class="token punctuation">.</span>js
</code></pre></div><p>(4)程序  获取容器</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementBId</span><span class="token punctuation">(</span><span class="token string">&quot;main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>(5)创建</p> <div class="language-js extra-class"><pre class="language-js"><code>    echarts 对象 <span class="token keyword">var</span> mychart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>main<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>(6)创建 option 选项</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> # 只需要将数据添加 option
</code></pre></div><p>(7)将option 添加到 echarts 对象</p> <div class="language-js extra-class"><pre class="language-js"><code>    mychar<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span>
</code></pre></div><p>#柱状统计图</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> option<span class="token operator">=</span><span class="token punctuation">{</span>
        title<span class="token operator">:</span><span class="token punctuation">{</span>text<span class="token operator">:</span><span class="token string">&quot;入门实例柱状统计图&quot;</span><span class="token punctuation">}</span>
            xAxis<span class="token operator">:</span><span class="token punctuation">{</span>data<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;衬衫&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;裤子&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;袜子&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;雪纺衫&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            yAxis<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>#动态变化由下方数据源指定
            series<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token operator">:</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>data<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

            #title<span class="token operator">:</span> 顶部标签

            #xAxis<span class="token operator">:</span> x轴数据

            #series 数据源

            #type<span class="token operator">:</span><span class="token string">&quot;bar&quot;</span>
</code></pre></div><p>绘制图像类型:</p> <div class="language-js extra-class"><pre class="language-js"><code>        bar 柱状统计图  line折线
        pie 饼图   gauge 仪表图
</code></pre></div><h1 id="html5-新特性-拖放api"><a href="#html5-新特性-拖放api" class="header-anchor">#</a> Html5 新特性--拖放API</h1> <p>PC端项目--拖动上传图片</p> <p>移动端项目--(自拍/相册)</p> <h3 id="drag-drop-拖动和释放"><a href="#drag-drop-拖动和释放" class="header-anchor">#</a> Drag &amp; Drop 拖动和释放</h3> <p>-拖动源对象(会动)-触发三个事件</p> <div class="language-js extra-class"><pre class="language-js"><code>dragstart 拖动开始
drag    拖动中
dragend  拖动结束
</code></pre></div><p>整个过程:dragstart<em>1+drag</em>n+dragend*1</p> <p>-拖动目标对象(不动)-触发四个事件(!!)</p> <div class="language-js extra-class"><pre class="language-js"><code>dragenter 拖动进入
dragover 拖动悬停 # 默认行为<span class="token operator">:</span>悬停事件结束后立即触发离开
#阻止事件默认行为

dragleave 拖动离开
drop   拖动和释放
整个过程 <span class="token number">1</span><span class="token operator">:</span>dragenter<span class="token operator">*</span><span class="token number">1</span><span class="token operator">+</span>dragover<span class="token operator">*</span>n<span class="token operator">+</span>dragleave<span class="token operator">*</span><span class="token number">1</span> 
整个过程 <span class="token number">2</span><span class="token operator">:</span>dragenter<span class="token operator">*</span><span class="token number">1</span><span class="token operator">+</span>dragover<span class="token operator">*</span>n<span class="token operator">+</span>drop<span class="token operator">*</span><span class="token number">1</span>
</code></pre></div><h1 id="html5-新特性-web-worker"><a href="#html5-新特性-web-worker" class="header-anchor">#</a> Html5  新特性---Web Worker</h1> <p>---理论多代码少(3行)</p> <div class="language- extra-class"><pre><code>程序: 指可以被CPU执行代码 程序存储在磁盘上 1.html 
进程: 将程序调用内存中并且分配指定空间 在内存中的程序称为进程
线程: 进程内部是由多个线程组件(内存)

chrome浏览器

一个chrome浏览器进程内部至少有6个线程负责向服务器发送请求获取资源(资源{网页/图片/视频/...}请求线程)

一个线程负责绘制所有资源并且执行js程序  UI主线程
</code></pre></div><p>问题:用户很长时间看不到网页</p> <div class="language- extra-class"><pre><code>解决方案:创建新线程帮助UI主线程执行耗时的js任务 
        UI主线程负责绘制网页
        创建Worker对象

标准语法
    var w = new Worker(&quot;js 任务路径&quot;)

        #创建 Worker 对象

        #创建新线程执行js任务
</code></pre></div><h3 id="worker程序实现数据传递"><a href="#worker程序实现数据传递" class="header-anchor">#</a> Worker程序实现数据传递</h3> <h3 id="ui-线程-html-将数据发送worker-05-js-线程"><a href="#ui-线程-html-将数据发送worker-05-js-线程" class="header-anchor">#</a> UI 线程(html)将数据发送Worker(05.js)线程</h3> <div class="language- extra-class"><pre><code>UI 发数据
var w = new Worker(&quot;js/05.js&quot;);
w.postMessage(&quot;123&quot;);

Worker 收数据
onmessage = function(event){
    event.data
} 
</code></pre></div><h3 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h3> <p>(1) Worker线程执行代码中不能包含任何DOM/BOM元素</p> <div class="language- extra-class"><pre><code>#操作网页中 DOM/BOM 只能交给UI主线程

#其他线程不能操作 DOM/BOM 担心混乱
</code></pre></div><p>计算用户输入的累加和</p> <p>2.x:html5 新特性 websoket(重点)--多对多聊天室
2.x:html5 新特性 webStroage
2.x:html5  网页游戏</p> <h1 id="websocket"><a href="#websocket" class="header-anchor">#</a> WebSocket</h1> <p>服务器发送数据给浏览器(响应消息)</p> <p>一次请求对应一次响应 如果没有请求就没有响应</p> <p>金融行业(股票/期货/汇率/...)多长时间请求一次</p> <h2 id="新解决方案方式-新协议-websocket"><a href="#新解决方案方式-新协议-websocket" class="header-anchor">#</a> 新解决方案方式:新协议 WebSocket</h2> <h3 id="websocket工作方式-广播和收听"><a href="#websocket工作方式-广播和收听" class="header-anchor">#</a> websocket工作方式:广播和收听</h3> <ul><li>适用范围: 金融;弹幕;聊天室;客服...</li></ul> <h2 id="html5新特性-websocket"><a href="#html5新特性-websocket" class="header-anchor">#</a> Html5新特性     WebSocket</h2> <div class="language- extra-class"><pre><code>服务器端:node.js socket.io 最方便最简单
   
客户端:浏览器原生对象  websocket功能少
        第三方:socket.io

#socket.io 多对多聊天室
</code></pre></div><p>· 服务器端 下载第三方模块(socket.io)  01_socketapp.js</p> <div class="language-js extra-class"><pre class="language-js"><code>npm i socket<span class="token punctuation">.</span>io
</code></pre></div><p>· 客户端  下载第三方模块(socket.io)  01_socket.html</p> <div class="language-js extra-class"><pre class="language-js"><code>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdnjs<span class="token punctuation">.</span>cloudflare<span class="token punctuation">.</span>com<span class="token operator">/</span>ajax<span class="token operator">/</span>libs<span class="token operator">/</span>socket<span class="token punctuation">.</span>io<span class="token operator">/</span><span class="token number">2.0</span><span class="token number">.3</span><span class="token operator">/</span>socket<span class="token punctuation">.</span>io<span class="token punctuation">.</span>js
</code></pre></div><h1 id="服务器端程序"><a href="#服务器端程序" class="header-anchor">#</a> 服务器端程序</h1> <p>(1) 创建 web 服务器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">reuqire</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>(2) 创建 socketio 服务器对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> io <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;socket.io&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>(3) 监听端口</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>(4) 为 io 对象绑定事件 connection (当客户连接服务器)触发此事件</p> <div class="language-js extra-class"><pre class="language-js"><code>io<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;connection&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    #console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;有客户连接服务器...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    #socket 为当前客户创建专属服务员<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="客户端程序"><a href="#客户端程序" class="header-anchor">#</a> 客户端程序</h1> <p>(1) 创建socket对象并且连接服务器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> clientSocket <span class="token operator">=</span> <span class="token function">io</span><span class="token punctuation">(</span><span class="token string">&quot;ws://127.0.0.1:3000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

#ws<span class="token operator">:</span>WebSocket
#<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> 服务器端程序所有机器地址
#<span class="token number">3000</span> 服务器端运行端口号
</code></pre></div><h2 id="客户端发送数据给服务器-一对一"><a href="#客户端发送数据给服务器-一对一" class="header-anchor">#</a> 客户端发送数据给服务器 (一对一)</h2> <div class="language-js extra-class"><pre class="language-js"><code>socket<span class="token punctuation">.</span>io 发送与接收数据采用方式事件绑定与事件触发机制
<span class="token function">服务器</span><span class="token punctuation">(</span>收<span class="token punctuation">)</span>

socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>客户端(发)</p> <div class="language- extra-class"><pre class="language-text"><code>clientSocket.emit(&quot;message&quot;,&quot;初次见面请多关照&quot;);
#emit:触发指事件
</code></pre></div><p>#======================================
服务器端发送数据给客户端(一对一)
客户端(收)</p> <div class="language- extra-class"><pre><code>clientSocket.on(&quot;server&quot;,(data)=&gt;{})
  
服务器(发)
socket.emit(&quot;server&quot;,&quot;发送消息&quot;);
</code></pre></div><p>#===========================================</p> <div class="language- extra-class"><pre><code>#广播消息:服务器向所有客户端发送消息
客户端(收)
clientSocket.on(&quot;list&quot;,(data)=&gt;{});

服务器(发)
io.emit(&quot;list&quot;,&quot;明天开始大降价&quot;);
</code></pre></div><p>#==========================================
#服务器端默认事件:disconnect
#当客户端关闭浏览器默认触发事件(客户端离开了);</p> <p>业务需求
1:广播新人加入
#以下两步多次执行
2:接收客户消息(聊天)
3:广播所有人
4:当用户关闭浏览器广播某人离开...</p> <h2 id="html5新特性-websocket-重点-多对多聊天室"><a href="#html5新特性-websocket-重点-多对多聊天室" class="header-anchor">#</a> Html5新特性 WebSocket(重点)--多对多聊天室</h2> <div class="language-js extra-class"><pre class="language-js"><code>server<span class="token operator">/</span><span class="token number">03</span>_chart_app<span class="token punctuation">.</span>js

client<span class="token operator">/</span><span class="token number">03</span>_chart<span class="token punctuation">.</span>html
</code></pre></div><h1 id="html5新特性-webstroage"><a href="#html5新特性-webstroage" class="header-anchor">#</a> Html5新特性  webStroage</h1> <p>解决问题:在客户端 浏览器 中保存用户 专用 数据
作用:登录用户昵称;购物车;....</p> <p>注意事项:webSocket 客户端不要存储安全级别高数据
安全级别高数据 用户密码:uid;</p> <div class="language-js extra-class"><pre class="language-js"><code>    客户端存储方式                      <span class="token function">服务器端存储方式</span>
    <span class="token punctuation">(</span>不安全<span class="token punctuation">;</span>数据量少<span class="token punctuation">)</span>                   <span class="token punctuation">(</span>安全<span class="token operator">/</span>海量<span class="token operator">/</span>高速查询<span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token function">cookie</span>                           <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 数据库
    优点<span class="token operator">:</span>兼容性好   
    缺点<span class="token operator">:</span>操作复杂<span class="token punctuation">;</span><span class="token number">1</span><span class="token function">kb</span>
    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token function">Flash</span>                           <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> session <span class="token function">对象</span><span class="token punctuation">(</span>数据量少<span class="token punctuation">)</span>
    缺点<span class="token operator">:</span><span class="token function">依赖flash播放器</span>    
    <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token function">WebStroage</span>                      <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> data<span class="token punctuation">.</span>txt
    优点<span class="token operator">:</span>操作简单<span class="token punctuation">;</span><span class="token number">8</span>Mb
    缺点<span class="token operator">:</span><span class="token function">兼容性</span>
    <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>IndexDB <span class="token function">不标准</span>                   <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> 内存数据库<span class="token punctuation">,</span>文档数据库
</code></pre></div><h1 id="webstroage"><a href="#webstroage" class="header-anchor">#</a> WebStroage</h1> <p>————————————————————————————————
WebStroage 存储数据依赖两个对象</p> <p>sessionStorage</p> <div class="language-js extra-class"><pre class="language-js"><code>sessionStorage 对象存储范围在当前会话当前会话中所有网页 都可以使用sessionStorage 保存<span class="token punctuation">,</span>但是
如果会话结束 数据就丢失！
注意事项<span class="token operator">:</span><span class="token function">会话结束</span><span class="token punctuation">(</span>关闭浏览器<span class="token operator">-</span>关闭标签<span class="token punctuation">)</span><span class="token punctuation">,</span>退出浏览器失效
</code></pre></div><p>localStorage
此对象保存数据用户保存</p> <h2 id="webstroage-操作数据方法和属性以上两个对象通用"><a href="#webstroage-操作数据方法和属性以上两个对象通用" class="header-anchor">#</a> WebStroage 操作数据方法和属性以上两个对象通用</h2> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 保存数据 <span class="token function">setitem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>  #key 键  <span class="token function">value值</span>
    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> 获取数据    <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token function">getitem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> 删除指定数据    <span class="token function">removeite</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> 清空所有数据    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> 数据长度        length
</code></pre></div><p>练习: 02_save.html 保存数据    03_get.html 获取数据</p> <div class="language- extra-class"><pre><code>        2.5:html5 新特性 网页游戏
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>        <span class="token number">2.5</span><span class="token operator">:</span>html5新特性 网页游戏
        #分析功能实现
            <span class="token operator">-</span>蓝色大海背景
            <span class="token operator">-</span><span class="token function">紫色海葵左右摆动</span><span class="token punctuation">(</span>重点<span class="token operator">-</span>难点<span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token function">海葵创建食物</span><span class="token punctuation">(</span>难点<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">-</span>大鱼负责吃食物   吃蓝色<span class="token number">100</span>分  吃橙色<span class="token number">200</span>分
            <span class="token operator">-</span>小鱼跟着大鱼游戏

        <span class="token number">2.6</span><span class="token operator">:</span>目录结构
        game                游戏主目录
                            js  游戏代码
                            src 游戏所有图片
                            index<span class="token punctuation">.</span>html 入口文件
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.f01ab0f0.js" defer></script><script src="/assets/js/2.33a04a9d.js" defer></script><script src="/assets/js/53.16a44154.js" defer></script><script src="/assets/js/3.28198cb7.js" defer></script>
  </body>
</html>
